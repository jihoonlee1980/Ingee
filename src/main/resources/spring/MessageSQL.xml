<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com2">
	<select id="getRecvMessageCount" parameterType="String" resultType="int">
		select count(*) from message where receiver = #{id}
	</select>
	
	<select id="getRecvMessageList" parameterType="HashMap" resultType="com.menu.model.MessageDTO">
		select * from message where 
		<choose>             
             <when test="DISC == 'recv'">
                 receiver
             </when>                            
             <otherwise>
                 sender
             </otherwise>             
         </choose>
		 = #{id} order by date_sent desc limit #{startPage} , #{perPage}
	</select>
	
</mapper>